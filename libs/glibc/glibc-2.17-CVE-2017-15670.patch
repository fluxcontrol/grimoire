diff -ru glibc-2.17_orig/posix/glob.c glibc-2.17/posix/glob.c
--- glibc-2.17_orig/posix/glob.c	2017-10-22 11:06:53.880727941 +0300
+++ glibc-2.17/posix/glob.c	2017-10-22 11:08:29.124726336 +0300
@@ -826,7 +826,7 @@
 		  *p = '\0';
 		}
 	      else
-		*((char *) mempcpy (newp, dirname + 1, end_name - dirname))
+		*((char *) mempcpy (newp, dirname + 1, end_name - dirname - 1))
 		  = '\0';
 	      user_name = newp;
 	    }
